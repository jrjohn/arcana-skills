# Requirements Traceability Matrix
## For {{project name}}

Version {{version}}
Prepared by {{author}}
{{organization}}
{{date}}

> ### 100% Traceability Requirement
>
> **All traceability directions must achieve 100% coverage:**
>
> | Direction | Required |
> |-----------|----------|
> | SRS → SDD | **100%** |
> | SRS → SWD | **100%** |
> | SRS → STC | **100%** |
> | SRS → UI (SCR) | **100%** |
> | SDD → SWD | **100%** |
> | SWD → STC | **100%** |
>
> **If any direction is below 100%, missing items must be added until full traceability is achieved.**

## Table of Contents
<!-- TOC -->
* [1. Introduction](#1-introduction)
* [2. Traceability Matrix Overview](#2-traceability-matrix-overview)
* [3. Complete Traceability Matrix](#3-complete-traceability-matrix)
* [4. Bidirectional Traceability Analysis](#4-bidirectional-traceability-analysis)
* [5. Coverage Analysis](#5-coverage-analysis)
* [6. Change Impact Traceability](#6-change-impact-traceability)
* [7. Appendix](#7-appendix)
<!-- TOC -->

## Revision History

| Name | Date | Reason For Changes | Version |
|------|------|--------------------|---------|
|      |      |                    |         |

---

## 1. Introduction

### 1.1 References

| 文件編號 | 文件名稱 | 版本 |
|---------|---------|------|
| SRS-xxx | 軟體需求規格書 | [版本] |
| SDD-xxx | 軟體設計規格書 | [版本] |
| SWD-xxx | 軟體詳細設計書 | [版本] |
| STP-xxx | 軟體測試計畫 | [版本] |
| STC-xxx | 軟體測試案例 | [版本] |
| SVV-xxx | 軟體驗證與確認報告 | [版本] |

---

## 2. 追溯矩陣概述

### 2.1 追溯目的

本追溯矩陣用於：
- 確保所有需求皆已實作與驗證
- 支援變更影響分析
- 符合 IEC 62304 追溯性要求
- 支援法規審查與稽核

### 2.2 追溯層級

```
┌─────────────────────────────────────────────────────────────────┐
│                        追溯層級架構                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  使用者需求     系統需求      軟體需求      軟體設計      程式碼  │
│     URD   →      SYS    →     SRS    →     SDD    →    SWD    │
│                                 │            │           │      │
│                                 ↓            ↓           ↓      │
│                              測試計畫     測試案例    驗證報告   │
│                               STP    →    STC    →    SVV      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2.3 追溯關係說明

| 追溯關係 | 說明 | 方向 |
|---------|------|------|
| SRS → SDD | 需求實現於設計 | 正向 |
| SDD → SWD | 設計實現於程式 | 正向 |
| SRS → STC | 需求驗證於測試 | 正向 |
| STC → SVV | 測試記錄於驗證 | 正向 |
| SDD ← SRS | 設計源自需求 | 反向 |
| SWD ← SDD | 程式源自設計 | 反向 |

---

## 3. 完整追溯矩陣

### 3.1 功能需求追溯矩陣

> **每列必須填寫完整，所有欄位不可為空（除 NFR 外）**

| SRS ID | SRS 名稱 | 安全分類 | SDD ID | SWD ID | UI (SCR) ID | STC ID | SVV ID | 狀態 |
|--------|---------|---------|--------|--------|-------------|--------|--------|------|
| SRS-AUTH-001 | [需求名稱] | Class A | SDD-AUTH-001 | SWD-AUTH-001, 002 | SCR-AUTH-001 | STC-AUTH-001, 002 | SVV-006 | ✅ |
| SRS-AUTH-002 | [需求名稱] | Class A | SDD-AUTH-002 | SWD-AUTH-003 | SCR-AUTH-002 | STC-AUTH-003 | SVV-006 | ✅ |
| SRS-TRAIN-001 | [需求名稱] | Class B | SDD-TRAIN-001 | SWD-TRAIN-001, 002 | SCR-TRAIN-001 | STC-TRAIN-001, 002 | SVV-006 | ✅ |
| SRS-TRAIN-002 | [需求名稱] | Class B | SDD-TRAIN-002 | SWD-TRAIN-003 | SCR-TRAIN-002 | STC-TRAIN-003 | SVV-006 | ✅ |
| SRS-REPORT-001 | [需求名稱] | Class A | SDD-REPORT-001 | SWD-REPORT-001 | SCR-REPORT-001 | STC-REPORT-001, 002 | SVV-006 | ✅ |

**狀態說明：**
- ✅ 完整追溯 (所有欄位皆有對應 ID)
- ⚠️ 部分追溯 (缺少某些欄位) - **必須補充**
- ❌ 無追溯 - **必須補充**

### 3.2 非功能需求追溯矩陣

| SRS ID | SRS 名稱 | 類型 | SDD ID | STC ID | SVV ID | 狀態 |
|--------|---------|------|--------|--------|--------|------|
| SRS-NFR-001 | [效能需求] | 效能 | SDD-ARCH-001 | STC-PERF-001 | SVV-006 | 完整 |
| SRS-NFR-002 | [安全需求] | 安全 | SDD-SEC-001 | STC-SEC-001 | SVV-006 | 完整 |
| SRS-NFR-003 | [可靠性需求] | 可靠性 | SDD-REL-001 | STC-REL-001 | SVV-006 | 完整 |

### 3.3 介面需求追溯矩陣

| SRS ID | SRS 名稱 | 介面類型 | SDD ID | SWD ID | STC ID | 狀態 |
|--------|---------|---------|--------|--------|--------|------|
| SRS-UI-001 | [UI需求] | 使用者介面 | SDD-UI-001 | SWD-UI-001 | STC-UI-001 | 完整 |
| SRS-HW-001 | [硬體介面] | 硬體介面 | SDD-HW-001 | SWD-HW-001 | STC-HW-001 | 完整 |
| SRS-SW-001 | [軟體介面] | 軟體介面 | SDD-SW-001 | SWD-SW-001 | STC-SW-001 | 完整 |

---

## 4. 雙向追溯分析

### 4.1 正向追溯 (需求 → 驗證)

驗證每個需求都有對應的設計、詳細設計、UI 畫面和測試。

> **所有欄位必須為 ✓，不接受部分追溯**

| SRS ID | → SDD | → SWD | → UI (SCR) | → STC | → SVV | 追溯完整性 |
|--------|-------|-------|------------|-------|-------|-----------|
| SRS-AUTH-001 | ✓ | ✓ | ✓ | ✓ | ✓ | ✅ 完整 |
| SRS-AUTH-002 | ✓ | ✓ | ✓ | ✓ | ✓ | ✅ 完整 |
| SRS-TRAIN-001 | ✓ | ✓ | ✓ | ✓ | ✓ | ✅ 完整 |
| SRS-TRAIN-002 | ✓ | ✓ | ✓ | ✓ | ✓ | ✅ 完整 |
| SRS-NFR-001 | ✓ | - | - | ✓ | ✓ | ✅ 完整 (NFR 無 UI) |

### 4.2 反向追溯 (驗證 → 需求)

驗證每個設計、實作和測試都能追溯回需求。

#### 4.2.1 設計 → 需求

| SDD ID | SDD 名稱 | ← SRS ID | 追溯狀態 |
|--------|---------|---------|---------|
| SDD-001 | [設計名稱] | SRS-001 | 已追溯 |
| SDD-002 | [設計名稱] | SRS-002 | 已追溯 |
| SDD-003 | [設計名稱] | SRS-003 | 已追溯 |

#### 4.2.2 程式 → 設計

| SWD ID | SWD 名稱 | ← SDD ID | ← SRS ID | 追溯狀態 |
|--------|---------|---------|---------|---------|
| SWD-001 | [程式名稱] | SDD-001 | SRS-001 | 已追溯 |
| SWD-002 | [程式名稱] | SDD-001 | SRS-001 | 已追溯 |
| SWD-003 | [程式名稱] | SDD-002 | SRS-002 | 已追溯 |

#### 4.2.3 測試 → 需求

| STC ID | STC 名稱 | ← SRS ID | 追溯狀態 |
|--------|---------|---------|---------|
| STC-001 | [測試名稱] | SRS-001 | 已追溯 |
| STC-002 | [測試名稱] | SRS-001 | 已追溯 |
| STC-003 | [測試名稱] | SRS-002 | 已追溯 |

### 4.3 孤立項目分析

#### 4.3.1 無追溯來源的項目

| 項目類型 | ID | 名稱 | 問題說明 | 處理狀態 |
|---------|-----|------|---------|---------|
| 設計 | - | - | 無孤立設計 | - |
| 程式 | - | - | 無孤立程式 | - |
| 測試 | - | - | 無孤立測試 | - |

#### 4.3.2 無追溯目標的項目

| 項目類型 | ID | 名稱 | 缺少追溯 | 處理狀態 |
|---------|-----|------|---------|---------|
| 需求 | - | - | 無缺漏 | - |

---

## 5. 覆蓋率分析

### 5.1 需求覆蓋率統計

> **⚠️ 所有覆蓋率必須達到 100%**

| 覆蓋類型 | 總數 | 已覆蓋 | 未覆蓋 | 覆蓋率 | 要求 |
|---------|------|--------|--------|--------|------|
| SRS → SDD (設計) | [N] | [N] | 0 | 100% | **必須 100%** |
| SRS → SWD (詳細設計) | [N] | [N] | 0 | 100% | **必須 100%** |
| SRS → UI (SCR) | [N] | [N] | 0 | 100% | **必須 100%** |
| SRS → STC (測試) | [N] | [N] | 0 | 100% | **必須 100%** |
| SRS → SVV (驗證) | [N] | [N] | 0 | 100% | **必須 100%** |

### 5.2 設計覆蓋率統計

| 覆蓋類型 | 總數 | 已覆蓋 | 未覆蓋 | 覆蓋率 | 要求 |
|---------|------|--------|--------|--------|------|
| SDD ← SRS | [N] | [N] | 0 | 100% | **必須 100%** |
| SDD → SWD | [N] | [N] | 0 | 100% | **必須 100%** |

### 5.3 測試覆蓋率統計

| 覆蓋類型 | 總數 | 已覆蓋 | 未覆蓋 | 覆蓋率 | 要求 |
|---------|------|--------|--------|--------|------|
| STC ← SRS | [N] | [N] | 0 | 100% | **必須 100%** |
| SWD → STC | [N] | [N] | 0 | 100% | **必須 100%** |
| STC → SVV | [N] | [N] | 0 | 100% | **必須 100%** |

### 5.4 覆蓋率趨勢圖

```
覆蓋率 (%)
100 ┤ ████████████████████████████████ 100%
 90 ┤
 80 ┤
 70 ┤
 60 ┤
 50 ┤
 40 ┤
 30 ┤
 20 ┤
 10 ┤
  0 ┼─────────────────────────────────
     需求→設計  需求→程式  需求→測試  整體
```

---

## 6. 變更影響追溯

### 6.1 變更影響分析範例

當需求變更時，使用此矩陣分析影響範圍：

**範例：SRS-001 變更影響分析**

| 變更需求 | 受影響設計 | 受影響程式 | 受影響測試 | 重新驗證 |
|---------|-----------|-----------|-----------|---------|
| SRS-001 | SDD-001 | SWD-001, SWD-002 | STC-001, STC-002 | SVV-006 |

**影響評估**：
- 設計變更: 1 項
- 程式變更: 2 項
- 測試更新: 2 項
- 驗證重做: 是

### 6.2 變更追溯記錄

| 變更 ID | 變更日期 | 變更項目 | 影響範圍 | 處理狀態 |
|--------|---------|---------|---------|---------|
| CHG-001 | [日期] | SRS-001 | SDD-001, SWD-001, STC-001 | 已完成 |
| CHG-002 | [日期] | SDD-002 | SWD-003, STC-003 | 已完成 |

### 6.3 影響範圍查詢

#### 6.3.1 依需求查詢影響

輸入 SRS ID，查詢所有受影響項目：

```
查詢: SRS-001
結果:
├── 設計: SDD-001
│   └── 程式: SWD-001, SWD-002
├── 測試: STC-001, STC-002
└── 驗證: SVV-006
```

#### 6.3.2 依設計查詢影響

輸入 SDD ID，查詢上下游追溯：

```
查詢: SDD-001
結果:
├── 上游需求: SRS-001
├── 下游程式: SWD-001, SWD-002
└── 相關測試: STC-001, STC-002
```

---

## 7. 附錄

### 7.1 追溯矩陣維護指南

**新增需求時** (必須建立完整追溯鏈)：
1. 在 SRS 中新增需求，分配 SRS-{MODULE}-xxx ID
2. 建立對應 SDD-{MODULE}-xxx 架構設計 ← **必須**
3. 建立對應 SWD-{MODULE}-xxx 詳細設計 ← **必須**
4. 建立對應 SCR-{MODULE}-xxx UI 畫面設計 ← **必須 (功能需求)**
5. 建立對應 STC-{MODULE}-xxx 測試案例 ← **必須**
6. 更新本追溯矩陣，確認所有覆蓋率維持 100%

> **⚠️ 任何新需求都必須同時建立完整追溯鏈，不接受部分追溯**

**變更需求時**：
1. 識別變更的 SRS ID
2. 使用第 6 節方法分析影響
3. 更新所有受影響文件
4. 更新本追溯矩陣
5. 重新執行受影響測試

**刪除需求時**：
1. 確認需求可刪除
2. 標記相關設計、程式、測試為廢棄
3. 更新本追溯矩陣
4. 記錄刪除原因

### 7.2 追溯狀態定義

| 狀態 | 定義 |
|-----|------|
| 完整 | 正向與反向追溯皆完整 |
| 部分 | 部分追溯關係缺失 |
| 缺失 | 無追溯關係 |
| 待確認 | 追溯關係待確認 |

### 7.3 術語定義

| 術語 | 定義 |
|-----|------|
| 正向追溯 | 從需求追溯到設計、實作、測試 |
| 反向追溯 | 從測試、實作、設計追溯回需求 |
| 覆蓋率 | 已建立追溯關係的項目比例 |

### 7.4 縮寫

| 縮寫 | 全稱 |
|-----|------|
| RTM | Requirements Traceability Matrix |
| SRS | Software Requirements Specification |
| SDD | Software Design Description |
| SWD | Software Detailed Design |
| STC | Software Test Case |
| SVV | Software Verification & Validation |

---

## 簽核

| 角色 | 姓名 | 簽名 | 日期 |
|-----|------|------|------|
| 作者 | | | |
| 審核者 | | | |
| 核准者 | | | |
